(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,n){},118:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(42),i=n.n(r),s=(n(117),n(118),n(97)),o=n(15),l=n(24),u=n.n(l),j=n(32),d=n(193),b=n(168),h=n(194),p=n(2),O=function(e){var t=Object(o.g)(),n=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("".concat("https://advice-bank-backend.herokuapp.com","/auth/google"),"_self");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Landing Page"}),Object(p.jsx)(d.a,{maxWidth:"sm",children:Object(p.jsxs)(b.a,{direction:"column",alignItems:"center",spacing:2,children:[Object(p.jsx)(h.a,{variant:"contained",onClick:function(){n()},children:"Login with Google"}),Object(p.jsx)(h.a,{variant:"contained",onClick:function(){t.push("/dashboard")},children:"Continue without logging in"})]})})]})},x=n(13),f=n(27),g=n(174),m=n(192),v=n(195),w=n(197),D=n(198),k=n(199),S=function(e){var t=null;if(e.post){var n=new Date(e.post.ts);t=n.getDate()===e.currentDate.getDate()?"today at ".concat(n.toLocaleTimeString()):"on ".concat(n.toLocaleDateString())}return e.post?Object(p.jsxs)(v.a,{fullWidth:!0,open:e.open,onClose:function(){return e.setDialogOpen(!1)},children:[Object(p.jsx)(w.a,{children:e.post.title}),Object(p.jsxs)(D.a,{style:{color:"#000000",paddingLeft:"20px",paddingRight:"20px",paddingBottom:"0px",paddingTop:"0px"},children:[Object(p.jsxs)("div",{children:["Posted by ",e.post.user_name]}),Object(p.jsxs)("div",{children:["Posted ",t]}),e.post.tags.length>0?Object(p.jsxs)("div",{children:["Tags: ",Object(p.jsx)(b.a,{direction:"row",paddingTop:"5px",spacing:1,children:e.post.tags.map((function(e,t){return Object(p.jsx)(h.a,{size:"small",variant:"outlined",children:e},t)}))})]}):null]}),Object(p.jsxs)(k.a,{padding:"20px",style:{color:"#000000"},children:['"',e.post.content,'"']})]}):null},y=n(188),C=n(200),T=n(61),L=n(201),W=function(e){var t=new Date(e.post.ts),n=t.getDate()===e.currentDate.getDate()?"".concat(t.toLocaleTimeString()," Today"):t.toLocaleDateString();return Object(p.jsxs)(C.a,{children:[Object(p.jsxs)(b.a,{direction:"row",alignItems:"center",justifyContent:"space-between",marginX:"20px",children:[Object(p.jsx)(T.a,{variant:"h4",marginTop:"10px",children:e.post.title}),Object(p.jsx)(b.a,{direction:"row",spacing:1,children:e.post.tags.map((function(e,t){return Object(p.jsx)(h.a,{variant:"outlined",size:"small",children:e},t)}))})]}),Object(p.jsxs)(T.a,{variant:"body2",marginLeft:"20px",textAlign:"left",children:[Object(p.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){return console.log(e.post.user_name)},children:[e.post.user_name,": "]}),Object(p.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return console.log(t.toLocaleString())},children:n})]}),Object(p.jsx)(T.a,{marginX:"20px",marginY:"10px",textAlign:"left",style:{maxHeight:"100px",height:"100px",overflow:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:4},children:e.post.content}),Object(p.jsx)(L.a,{children:Object(p.jsx)(b.a,{width:"100%",direction:"row",justifyContent:"end",alignItems:"center",children:Object(p.jsx)(h.a,{onClick:function(){e.handleShowDetails(e.post)},children:"Details"})})})]})},P=function(e){var t=Object(f.a)(),n=Object(g.a)(t.breakpoints.down("sm"));return Object(p.jsx)(y.a,{container:!0,padding:2,spacing:4,minHeight:"min-content",children:e.posts.map((function(t,a){return Object(p.jsx)(y.a,{item:!0,xs:n?12:6,children:Object(p.jsx)(W,{post:t,handleShowDetails:e.handleShowDetails,currentDate:e.currentDate})},a)}))})},A=n(80),_=n(178),I=n(181),M=n(175),B=n(196),F=n(176),R=n(185),z=n(189),E=n(177),J=n(179),X=function(e){return Object(p.jsx)(I.a,{open:e.open,anchorEl:e.anchorRef.current,role:void 0,placement:"bottom-start",transition:!0,disablePortal:!0,children:function(t){var n=t.TransitionProps,a=t.placement;return Object(p.jsx)(M.a,Object(A.a)(Object(A.a)({},n),{},{style:{transformOrigin:"bottom-start"===a?"left top":"left bottom"},children:Object(p.jsx)(B.a,{children:Object(p.jsx)(F.a,{onClickAway:e.handleClose,children:Object(p.jsx)(R.a,{autoFocusItem:e.open,id:"composition-menu","aria-labelledby":"composition-button",children:Object(p.jsxs)(z.a,{onClick:e.handleLogout,children:[Object(p.jsx)(E.a,{children:Object(p.jsx)(_.a,{})}),Object(p.jsx)(J.a,{children:"Logout"})]})})})})}))}})},G=n(182),H=n(202),N=n(190),U=function(e){var t=Object(a.useState)(""),n=Object(x.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),s=Object(x.a)(i,2),o=s[0],l=s[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(G.a,{id:"outlined-basic",label:"Tags",variant:"outlined",autoComplete:"off",fullWidth:e.fullWidth,value:c,error:Boolean(o),helperText:o,onBlur:function(){l("")},onChange:function(e){r(e.target.value),l("")},onKeyDown:function(t){var n;13===t.keyCode&&(0===c.length?l("Tags cannot be blank"):e.tags.has(c)?l("That tag has already been entered"):(n=c,e.setTags(e.tags.add(n)),r("")))}}),Object(p.jsx)(y.a,{container:!0,spacing:1,paddingTop:1,children:Array.from(e.tags).map((function(t,n){return Object(p.jsx)(y.a,{item:!0,children:Object(p.jsx)(N.a,{label:t,onDelete:function(){var n;n=t,e.tags.delete(n),e.setTags(new Set(e.tags))}})},n)}))})]})},Y=function(e){var t=Object(a.useState)(""),n=Object(x.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),s=Object(x.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(new Set),O=Object(x.a)(d,2),f=O[0],g=O[1];return Object(p.jsxs)(v.a,{open:e.open,onClose:function(){return e.setDialogOpen(!1)},fullWidth:!0,children:[Object(p.jsx)(w.a,{children:"Submit a Post"}),Object(p.jsx)(D.a,{children:Object(p.jsxs)(b.a,{spacing:2,paddingTop:1,children:[Object(p.jsx)(G.a,{fullWidth:!0,id:"title",label:"Title",variant:"outlined",autoComplete:"off",value:c,onChange:function(e){r(e.target.value)}}),Object(p.jsx)(G.a,{fullWidth:!0,id:"content",label:"Content",variant:"outlined",multiline:!0,rows:4,autoComplete:"off",value:o,onChange:function(e){l(e.target.value)}}),Object(p.jsx)(U,{tags:f,setTags:g,fullWidth:!0})]})}),Object(p.jsx)(H.a,{children:Object(p.jsx)(h.a,{variant:"contained",onClick:Object(j.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setDialogOpen(!1),n={user_id:1,user_name:e.username,user_img:"https://cdn.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png",title:c,content:o,tags:Array.from(f)},console.log(n),t.next=5,e.handleSubmitPost(n);case 5:r(""),l(""),g(new Set);case 8:case"end":return t.stop()}}),t)}))),children:"Submit"})})]})},K=Object(a.createContext)(null),q=function(e){var t=Object(a.useState)(null),n=Object(x.a)(t,2),c=n[0],r=n[1],i=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(window.location.href),e.next=3,fetch("".concat("https://advice-bank-backend.herokuapp.com","/getuser"),{credentials:"include",headers:{"Access-Control-Allow-Origin":window.location.href}});case 3:return t=e.sent,e.prev=4,e.next=7,t.json();case 7:n=e.sent,console.log(n),r(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(p.jsx)(K.Provider,{value:{userObject:c,setUserObject:r},children:e.children})},Q=n(5),V=function(e){var t=Object(Q.a)(B.a)((function(){return{flex:1,paddingTop:30,flexDirection:"column",justifyContent:"start",alignItems:"center",display:e.isMedScreen?"none":"flex",maxWidth:"90vw"}}));return Object(p.jsx)(t,{children:Object(p.jsxs)(b.a,{direction:"column",justifyContent:"start",alignItems:"center",spacing:2,height:"100%",paddingX:4,maxWidth:e.maxWidth,children:[Object(p.jsx)(h.a,{variant:"contained",onClick:function(){return e.setSubmitDialogOpen(!0)},children:"Post"}),Object(p.jsx)(G.a,{id:"outlined-basic",label:"Search",variant:"outlined"}),Object(p.jsx)(U,{fullWidth:!0,tags:e.tags,setTags:e.setTags})]})})},Z=n(203),$=n(204),ee=n(205),te=n(186),ne=n(191),ae=n(96),ce=n.n(ae),re=n(95),ie=n.n(re),se=n(94),oe=n.n(se),le=[null,Object(p.jsx)(oe.a,{}),Object(p.jsx)(ie.a,{style:{fill:"#ffffff",fillOpacity:1}})],ue=function(e){return Object(p.jsx)(Z.a,{position:"static",style:{flexShrink:0},children:Object(p.jsxs)($.a,{children:[e.isMedScreen?Object(p.jsx)(ee.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){e.setDrawerOpen(!0)},children:Object(p.jsx)(ce.a,{})}):null,Object(p.jsx)(T.a,{variant:"h5",flexGrow:1,textAlign:"start",children:"Dashboard"}),e.userData?Object(p.jsxs)(b.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(p.jsx)(T.a,{children:e.userData.user_name}),Object(p.jsx)(ee.a,{onClick:function(){e.setMenuOpen(!0)},children:Object(p.jsx)(te.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:le[2],children:Object(p.jsx)(ne.a,{alt:e.userData.user_name,src:e.userData.user_img,ref:e.anchorRef})})})]}):Object(p.jsx)(T.a,{children:"You are not logged in"})]})})},je=function(e){var t=Object(a.useContext)(K),n=Object(f.a)(),c=Object(g.a)(n.breakpoints.down("md")),r=Object(o.g)(),i=Object(a.useRef)(null),s=Object(a.useState)(!1),l=Object(x.a)(s,2),d=l[0],b=l[1],h=Object(a.useState)(!1),O=Object(x.a)(h,2),v=O[0],w=O[1],D=Object(a.useState)(!1),k=Object(x.a)(D,2),y=k[0],C=k[1],T=Object(a.useState)(!1),L=Object(x.a)(T,2),W=L[0],A=L[1],_=Object(a.useState)(null),I=Object(x.a)(_,2),M=I[0],B=I[1],F=Object(a.useState)(new Set),R=Object(x.a)(F,2),z=R[0],E=R[1],J=Object(a.useState)([]),G=Object(x.a)(J,2),H=G[0],N=G[1],U=new Date,q=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://advice-bank-backend.herokuapp.com","/posts/"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),N(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){q()}),[]);var Q=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://advice-bank-backend.herokuapp.com","/posts"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});case 2:return e.next=4,q();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://advice-bank-backend.herokuapp.com","/logout"),{credentials:"include",headers:{"Access-Control-Allow-Origin":window.location.href}});case 2:return n=e.sent,console.log(n),e.next=6,n.text();case 6:"done"===e.sent&&(null===t||void 0===t||t.setUserObject(null),r.push("/"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ue,{userData:null===t||void 0===t?void 0:t.userObject,isMedScreen:c,setDrawerOpen:A,setMenuOpen:C,anchorRef:i}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",height:"100%",flex:1,overflow:"auto"},children:[Object(p.jsx)(V,{isMedScreen:c,setSubmitDialogOpen:b,tags:z,setTags:E}),Object(p.jsx)("div",{style:{flex:3,display:"flex",flexDirection:"column",overflow:"auto",height:"100%"},children:Object(p.jsx)(P,{posts:H,handleShowDetails:function(e){B(e),w(!0)},currentDate:U})})]}),Object(p.jsx)(Y,{open:d,setDialogOpen:b,handleSubmitPost:Q,username:e.userData?e.userData.user_name:""}),Object(p.jsx)(S,{open:v,setDialogOpen:w,post:M,currentDate:U}),Object(p.jsx)(X,{open:y,anchorRef:i,handleClose:function(){C(!1)},handleLogout:Z}),Object(p.jsx)(m.a,{anchor:"left",open:W&&c,onClose:function(){A(!1)},style:{width:"90vw",maxWidth:"90vw"},children:Object(p.jsx)(V,{isMedScreen:!c,setSubmitDialogOpen:b,tags:z,setTags:E})})]})},de=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"404 no."})})},be=n(21),he=n(98);var pe=function(){var e=Object(he.a)(),t=Object(a.useContext)(K);return Object(p.jsx)(be.c,{theme:e,children:Object(p.jsx)(s.a,{children:Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(o.d,{children:[Object(p.jsx)(o.b,{exact:!0,path:"/",component:function(){return t&&t.userObject?Object(p.jsx)(o.a,{to:"/dashboard"}):Object(p.jsx)(O,{})}}),Object(p.jsx)(o.b,{exact:!0,path:"/dashboard",component:function(){return Object(p.jsx)(je,{userData:(null===t||void 0===t?void 0:t.userObject)||null})}}),Object(p.jsx)(o.b,{exact:!0,path:"/404",component:function(){return Object(p.jsx)(de,{})}})]})})})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,206)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(q,{children:Object(p.jsx)(pe,{})})}),document.getElementById("root")),Oe()}},[[130,1,2]]]);
//# sourceMappingURL=main.7aa14818.chunk.js.map