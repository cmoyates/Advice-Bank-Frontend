(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(34),o=n.n(r),i=(n(103),n(13)),s=(n(104),n(80)),l=n(16),u=n(24),j=n.n(u),d=n(35),b=n(173),p=n(152),h=n(174),O=n(2),x=function(e){var t=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("".concat("https://advice-bank-backend.herokuapp.com","/auth/google"),"_self");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Landing Page"}),Object(O.jsx)(b.a,{maxWidth:"sm",children:Object(O.jsx)(p.a,{direction:"column",children:Object(O.jsx)(h.a,{variant:"contained",onClick:function(){t()},children:"Login with Google"})})})]})},f=n(182),g=n(183),m=n(56),v=n(184),w=n(171),k=n(164),C=n(172),D=n(175),y=n(177),S=function(e){var t=new Date(e.post.ts),n=t.getDate()===e.currentDate.getDate()?"".concat(t.toLocaleTimeString()," Today"):t.toLocaleDateString();return Object(O.jsxs)(D.a,{children:[Object(O.jsxs)(p.a,{direction:"row",alignItems:"center",justifyContent:"space-between",marginX:"20px",children:[Object(O.jsx)(m.a,{variant:"h4",marginTop:"10px",children:e.post.title}),Object(O.jsx)(p.a,{direction:"row",spacing:1,children:e.post.tags.map((function(e,t){return Object(O.jsx)(h.a,{variant:"outlined",size:"small",children:e},t)}))})]}),Object(O.jsxs)(m.a,{variant:"body2",marginLeft:"20px",textAlign:"left",children:[Object(O.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){return console.log(e.post.user_name)},children:[e.post.user_name,": "]}),Object(O.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return console.log(t.toLocaleString())},children:n})]}),Object(O.jsx)(m.a,{marginX:"20px",marginY:"10px",textAlign:"left",style:{maxHeight:"100px",height:"100px",overflow:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:4},children:e.post.content}),Object(O.jsx)(y.a,{children:Object(O.jsx)(p.a,{width:"100%",direction:"row",justifyContent:"end",alignItems:"center",children:Object(O.jsx)(h.a,{onClick:function(){e.handleShowDetails(e.post)},children:"Details"})})})]})},_=n(168),L=n(178),P=n(179),T=n(180),I=function(e){var t=new Date(e.post.ts),n=t.getDate()===e.currentDate.getDate()?"today at ".concat(t.toLocaleTimeString()):"on ".concat(t.toLocaleDateString());return Object(O.jsxs)(_.a,{fullWidth:!0,open:e.open,onClose:function(){return e.setDialogOpen(!1)},children:[Object(O.jsx)(L.a,{children:e.post.title}),Object(O.jsxs)(P.a,{style:{color:"#000000",paddingLeft:"20px",paddingRight:"20px",paddingBottom:"0px"},children:[Object(O.jsxs)("div",{children:["Posted by ",e.post.user_name]}),Object(O.jsxs)("div",{children:["Posted ",n]}),e.post.tags.length>0?Object(O.jsxs)("div",{children:["Tags: ",Object(O.jsx)(p.a,{direction:"row",paddingTop:"5px",spacing:1,children:e.post.tags.map((function(e,t){return Object(O.jsx)(h.a,{size:"small",variant:"outlined",children:e},t)}))})]}):null]}),Object(O.jsxs)(T.a,{padding:"20px",style:{color:"#000000"},children:['"',e.post.content,'"']})]})},A=n(65),W=n(160),F=n(163),B=n(157),R=n(176),E=n(158),J=n(167),z=n(170),N=n(159),U=n(161),X=function(e){return Object(O.jsx)(F.a,{open:e.open,anchorEl:e.anchorRef.current,role:void 0,placement:"bottom-start",transition:!0,disablePortal:!0,children:function(t){var n=t.TransitionProps,c=t.placement;return Object(O.jsx)(B.a,Object(A.a)(Object(A.a)({},n),{},{style:{transformOrigin:"bottom-start"===c?"left top":"left bottom"},children:Object(O.jsx)(R.a,{children:Object(O.jsx)(E.a,{onClickAway:e.handleClose,children:Object(O.jsx)(J.a,{autoFocusItem:e.open,id:"composition-menu","aria-labelledby":"composition-button",children:Object(O.jsxs)(z.a,{onClick:e.handleLogout,children:[Object(O.jsx)(N.a,{children:Object(O.jsx)(W.a,{})}),Object(O.jsx)(U.a,{children:"Logout"})]})})})})}))}})},Y=n(181),G=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(""),s=Object(i.a)(o,2),l=s[0],u=s[1];return Object(O.jsxs)(_.a,{open:e.open,onClose:function(){return e.setDialogOpen(!1)},children:[Object(O.jsx)(L.a,{children:"Submit a Post"}),Object(O.jsxs)(P.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,margin:"normal",id:"title",label:"Title",variant:"outlined",autoComplete:"off",value:a,onChange:function(e){r(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",id:"content",label:"Content",variant:"outlined",multiline:!0,rows:4,autoComplete:"off",value:l,onChange:function(e){u(e.target.value)}})]}),Object(O.jsx)(Y.a,{children:Object(O.jsx)(h.a,{variant:"contained",onClick:Object(d.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setDialogOpen(!1),n={user_id:1,user_name:e.username,user_img:"https://cdn.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png",title:a,content:l,tags:[]},console.log(n),t.next=5,e.handleSubmitPost(n);case 5:case"end":return t.stop()}}),t)}))),children:"Submit"})})]})},H=Object(c.createContext)(null),M={post_id:-1,user_id:-1,user_name:"",user_img:"",title:"",content:"",tags:[],ts:""},q=function(e){var t=Object(c.useContext)(H),n=Object(l.g)(),a=Object(c.useRef)(null),r=Object(c.useState)(!1),o=Object(i.a)(r,2),s=o[0],u=o[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),D=x[0],y=x[1],_=Object(c.useState)(!1),L=Object(i.a)(_,2),P=L[0],T=L[1],A=Object(c.useState)(M),W=Object(i.a)(A,2),F=W[0],B=W[1],R=Object(c.useState)([]),E=Object(i.a)(R,2),J=E[0],z=E[1],N=new Date,U=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://advice-bank-backend.herokuapp.com","/posts/"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),z(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){U()}),[]);var Y=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://advice-bank-backend.herokuapp.com","/posts"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});case 2:return e.next=4,U();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){B(e),y(!0)},K=function(){var e=Object(d.a)(j.a.mark((function e(){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://advice-bank-backend.herokuapp.com","/logout"),{credentials:"include",headers:{"Access-Control-Allow-Origin":window.location.href}});case 2:return c=e.sent,console.log(c),e.next=6,c.text();case 6:a=e.sent,console.log(a),"done"===a&&(null===t||void 0===t||t.setUserObject(null),console.log(null===t||void 0===t?void 0:t.userObject),n.push("/"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)(f.a,{position:"static",children:Object(O.jsx)(g.a,{children:Object(O.jsxs)(p.a,{width:"100%",direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(O.jsx)(m.a,{variant:"h5",children:"Dashboard"}),e.userData?Object(O.jsxs)(p.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(O.jsx)(m.a,{children:e.userData.user_name}),Object(O.jsx)(v.a,{onClick:function(){T(!0)},children:Object(O.jsx)(w.a,{alt:e.userData.user_name,src:e.userData.user_img,ref:a})})]}):Object(O.jsx)(m.a,{children:"You are not logged in"})]})})}),Object(O.jsxs)(p.a,{margin:"10px",direction:"row",justifyContent:"space-around",alignItems:"center",children:[Object(O.jsx)(k.a,{id:"outlined-basic",label:"Search",variant:"outlined"}),Object(O.jsx)(h.a,{variant:"contained",onClick:function(){return u(!0)},children:"Post"})]}),Object(O.jsx)(C.a,{container:!0,spacing:4,padding:"20px",children:J.map((function(e,t){return Object(O.jsx)(C.a,{item:!0,xs:6,children:Object(O.jsx)(S,{post:e,handleShowDetails:q,currentDate:N})},t)}))}),Object(O.jsx)(G,{open:s,setDialogOpen:u,handleSubmitPost:Y,username:e.userData?e.userData.user_name:""}),Object(O.jsx)(I,{open:D,setDialogOpen:y,post:F,currentDate:N}),Object(O.jsx)(X,{open:P,anchorRef:a,handleClose:function(){T(!1)},handleLogout:K})]})},K=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"404 no."})})},Q=n(20),V=n(81);var Z=function(){var e=Object(V.a)(),t=Object(c.useState)(null),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(O.jsx)(Q.c,{theme:e,children:Object(O.jsx)(s.a,{children:Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(l.d,{children:Object(O.jsxs)(H.Provider,{value:{userObject:a,setUserObject:r},children:[Object(O.jsx)(l.b,{exact:!0,path:"/",component:function(){return a?Object(O.jsx)(l.a,{to:"/dashboard"}):Object(O.jsx)(x,{})}}),Object(O.jsx)(l.b,{exact:!0,path:"/dashboard",component:function(){return Object(O.jsx)(q,{userData:null})}}),Object(O.jsx)(l.b,{exact:!0,path:"/404",component:function(){return Object(O.jsx)(K,{})}}),Object(O.jsx)(l.a,{to:"/404"})]})})})})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,185)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(Z,{})}),document.getElementById("root")),$()}},[[116,1,2]]]);
//# sourceMappingURL=main.e4bd93e9.chunk.js.map